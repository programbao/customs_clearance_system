# Customs Declaration System - UI Prototype Design Prompt

## 1. 总体设计原则 (Overall Design Principles)

本UI原型旨在模拟一个功能复杂的报关管理系统。设计应遵循以下原则：

- **层级化导航 (Hierarchical Navigation):** 系统的主要导航将通过一个可折叠的侧边栏实现，严格按照“科 (Department) -> 具体业务 (Route)”的层级结构组织。
- **单页应用 (SPA):** 所有页面切换不发生浏览器刷新，提供流畅的用户体验。
- **模块化与组件化 (Componentization):** 相似的功能（如数据表格、筛选区域、弹窗）应采用一致的UI模式和交互逻辑。
- **数据驱动视图 (Data-Driven Views):** 页面的核心是展示和操作复杂的数据列表和表单，交互设计需围绕数据处理的效率和清晰度展开。

## 2. 导航与路由结构 (Navigation & Routing Structure)

系统采用两级侧边栏导航。一级为“科”，点击后展开/折叠对应的二级“具体业务”路由。

```
- 出口科 (Export Dept)
  - 一般物资 (General Goods)
  - 特殊物资 (Special Goods)
- 进口科 (Import Dept)
  - 资料管理 (Data Management)
  - 进口总表 (Import Summary)
- 保税科 (Bonded Dept)
  - 内贸 (Domestic Trade)
  - 外贸 (Foreign Trade)
- 查验科 (Inspection Dept)
  - 出口查验 (Export Inspection)
  - 进口查验 (Import Inspection)
- 运营科 (Operations Dept)
  - 出口申报 (Export Declaration)
  - 进口申报 (Import Declaration)
  - 内贸申报 (Domestic Declaration)
  - 外贸申报 (Foreign Declaration)
  - 出口结算单 (Export Settlement)
  - 进口结算单 (Import Settlement)
- 基础数据 (Basic Data)
  - 公司管理 (Company Management)
  - 物资管理 (Materials Management)
  - 出口成品管理 (Finished Goods Mgmt)
  - 模版库管理 (Template Mgmt)
```

---

## 3. 页面详细分析 (Detailed Page Analysis)

### **出口科 (Export Dept)**

#### **路由: 一般物资 (General Goods)**
-   **主要源文件 (Source Files)**: `首页_资料整理阶段_-总表.html`, `首页-明细页面.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **顶部筛选区域 (Filter Area)**:
        -   **状态筛选**: 下拉框，包含“资料整理阶段”、“待装船许可”等10个选项。
        -   **搜索框**: 船名、pic、申报编号的文本输入。
        -   **成品类型筛选**: 下拉框，包含“镍铁”、“高冰镍”等。
        -   **操作员筛选**: 下拉框。
        -   **操作按钮**: `查询`, `重置`, `展开`。
    -   **主功能区 (Main Area)**:
        -   **操作按钮**: `新增出口`, `导出`。
        -   **数据表格 (Data Table)**: 一个总览列表，展示所有出口项目。
            -   **表格列**: 申报材料编号、船次、状态、清关进度、创建/更新信息等。
            -   **行内操作**: `编辑资料`, `发起草本`, `查看`, `删除`, `上传装船清单`等，根据不同状态显示不同操作。
    -   **核心交互: `新增/编辑` 弹窗/视图 (Add/Edit Modal/View)**
        -   点击 `新增出口` 或 `编辑资料` 后，会显示一个大型的表单视图用于处理单个出口项目。
        -   **步骤导航 (Workflow Steps)**: 顶部分步显示流程状态，如 `资料整理阶段` -> `待装船许可` -> `待装船清单`...
        -   **明细Tab (Details Tab)**:
            -   **CI/PL草本制作表单**: 包含 `公司名称`, `Invoice To`, `Invoice No`, `Vessel Name`, `商品明细表格` (可动态增删改), `银行账户信息` (可选择) 等。
            -   **SI草本制作表单**: 包含 `ATTN`, `SHIPPER`, `CONSIGNEE` 等信息。
            -   **操作**: `预览CI/PL/SI`, `生成草本`, `暂存`, `提交`。
        -   **附件列表Tab (Attachments Tab)**:
            -   **文件列表**: 一个表格，显示需要上传的文件类型（如 `*合同`, `提货函`, `*CI draft`）。
            -   **文件操作**: 对每种文件类型提供 `上传`, `预览`, `下载`, `创建` (如果文件可在线生成) 的功能。
            -   **批量操作**: `打包下载选中文件`。

#### **路由: 特殊物资 (Special Goods)**
-   **主要源文件 (Source Files)**: `待上传授权信正本.html`, `首页_资料整理阶段_.html`
-   **页面内容与功能 (Content and Functions)**:
    -   与`一般物资`页面布局类似，包含筛选区和主数据表格。
    -   **核心区别**: 工作流步骤和附件列表不同。
    -   **步骤导航 (Workflow Steps)**: `资料整理阶段` -> `待上传授权信正本` -> `待出口批准函` -> `待提单草本`...
    -   **附件列表Tab (Attachments Tab)**:
        -   **文件列表**: 包含针对特殊物资的特定文件，如 `*授权信草本`, `*授权信正本`。
        -   **文件操作**: 上传、预览、下载、锁定/解锁等。

### **进口科 (Import Dept)**

#### **路由: 资料管理 (Data Management)**
-   **主要源文件 (Source Files)**: `首页_资料整理_.html`, `待上传批复版资料.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **顶部筛选区域 (Filter Area)**: 与出口科类似，但筛选条件针对进口业务。
    -   **主数据表格 (Data Table)**: 展示所有进口项目。
    -   **核心交互: `新增/编辑` 弹窗/视图 (Add/Edit Modal/View)**
        -   **步骤导航 (Workflow Steps)**: 包含进口特有的流程，如 `资料整理` -> `资料待确认` -> `待上传PIB核对草本`...
        -   **明细Tab (Details Tab)**: 包含 `CI/PL/BL` 等制作表单。
        -   **商品/费用明细表格**: 一个核心的复杂表格，用于录入商品信息并计算税费。
            -   **列**: `DESCRIPTION`, `HS CODE`, `QUANTITY`, `UNIT PRICE`, `BM`(关税), `PPN`(增值税), `PPH`(所得税), `合计税率`。
            -   **交互**: 支持搜索HS CODE，根据HS CODE自动填充税率信息。
        -   **附件列表Tab (Attachments Tab)**: 上传进口流程所需的各种文件。

#### **路由: 进口总表 (Import Summary)**
-   **说明**: 此页面在原型中无直接对应，是一个聚合和报告页面。
-   **页面内容与功能 (Content and Functions)**:
    -   **高级筛选区域 (Advanced Filters)**: 提供更丰富的筛选条件，如日期范围、公司、目的港、金额范围等。
    -   **数据汇总卡片 (Summary Cards)**: 显示关键指标，如“本月进口总额”、“待处理单据”、“已完成单据”等。
    -   **数据表格 (Data Table)**: 一个只读的、信息全面的总览列表，聚合所有进口项目的数据。
        -   **列**: 包含关键的日期、公司、金额、状态、负责人等信息。
        -   **交互**: 支持高级排序、列自定义、导出为Excel/PDF。

### **保税科 (Bonded Dept)**

#### **路由: 内贸 (Domestic Trade)**
-   **主要源文件 (Source Files)**: `内贸首页.html`, `待上传签发版bc40.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主数据表格 (Data Table)**:
        -   **列**: 船号、合同号、PIB号、BC号、状态、清关进度等。
        -   **行内操作**: `编辑资料`, `查看`, `上传SPPB文件`, `上传BC4.0文件`。
    -   **核心交互: `新增/编辑` 弹窗/视图 (Add/Edit Modal/View)**
        -   **步骤导航 (Workflow Steps)**: 包含保税区内贸流程，如 `待上传BC4.0草本` -> `待上传SPPB1` -> `待上传签发版BC4.0`。
        -   **附件列表Tab (Attachments Tab)**: 重点是上传 `SPPB`, `BC4.0` 等相关文件。

#### **路由: 外贸 (Foreign Trade)**
-   **主要源文件 (Source Files)**: `外贸首页.html`, `待上传盖章版bc2_3.html`
-   **页面内容与功能 (Content and Functions)**:
    -   页面结构与`内贸`类似。
    -   **核心区别**: 流程和附件围绕 **BC2.3** 系列文件展开。
    -   **步骤导航 (Workflow Steps)**: 包含保税区外贸流程，如 `待更新物资代码` -> `待上传盖章版BC2.3` -> `待上传签发版BC2.3`。

### **查验科 (Inspection Dept)**

#### **路由: 出口查验 (Export Inspection)**
-   **主要源文件 (Source Files)**: `首页_确认海关和第三方查验_.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 一个工作台/任务列表，展示需要查验的出口项目。
    -   **核心交互**:
        -   **确认查验**: 对列表中的项目，提供 `海关查验` 和 `第三方查验` 的勾选框或按钮。
        -   **上传查验文件**: 提供 `上传查验照片` 等功能。
        -   **查看详情**: 可以链接到原始的出口单据详情页。

#### **路由: 进口查验 (Import Inspection)**
-   **主要源文件 (Source Files)**: `__spjm.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 一个工作台/任务列表，展示需要查验的进口项目。
    -   **核心交互**:
        -   **上传查验文件**: 重点是 `上传SPJM` 文件和相关的查验照片。
        -   **查看详情**: 可以链接到原始的进口单据详情页。

### **运营科 (Operations Dept)**

#### **路由: 出口申报 (Export Declaration)**
-   **主要源文件 (Source Files)**: `首页_装船许可-一般物资_.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 出口的待申报任务列表。
    -   **核心交互**:
        -   从列表中选择一个项目，进入申报单制作界面。
        -   **申报单制作**: 这是一个专用的表单，用于填写海关要求的官方申报信息。
        -   **状态跟踪**: 提交后，可以在列表中看到申报状态的更新（例如：已发送、海关已接收、放行）。

#### **路由: 进口申报 (Import Declaration)**
-   **主要源文件 (Source Files)**: `待上传pib核对草本.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 进口的待申报任务列表。
    -   **核心交互**: 与出口申报类似，但处理的是进口单据。

#### **路由: 内贸申报 (Domestic Declaration)**
-   **主要源文件 (Source Files)**: `内贸首页.html` (作为数据源), 页面本身为运营科专用任务列表。
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 一个聚合了所有保税区内贸流程中，状态为“待申报”的任务列表。
    -   **核心交互**: 点击列表项，进入一个简化的申报确认页面，填写申报必要信息并提交。

#### **路由: 外贸申报 (Foreign Declaration)**
-   **主要源文件 (Source Files)**: `外贸首页.html` (作为数据源), 页面本身为运营科专用任务列表。
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 一个聚合了所有保税区外贸流程中，状态为“待申报”的任务列表。
    -   **核心交互**: 点击列表项，进入申报确认页面并提交。

#### **路由: 出口结算单 (Export Settlement)**
-   **主要源文件 (Source Files)**: `出口服务费结算单-wbn_出口.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 结算单列表，带筛选功能和`新增`按钮。
    -   **核心交互: `新增/查看/编辑` 视图 (Add/View/Edit View)**
        -   **结算单表单**: 一个类似发票的详细表单。
        -   **内容**: 开票公司、客户单位、地址、税号、合同号等。
        -   **费用明细表格**: 包含多项费用描述、数量、单价、总价，并自动计算 `Sub Total`, `PPN` (税), `Grand Total`。
        -   **审批流程**: 包含 `创建人`, `审核人`, `批准人` 的电子签名区域。

#### **路由: 进口结算单 (Import Settlement)**
-   **主要源文件 (Source Files)**: `进口结算.html`
-   **页面内容与功能 (Content and Functions)**:
    -   与出口结算单功能类似，但费用项目和计算方式针对进口业务。

### **基础数据 (Basic Data)**

#### **路由: 公司管理 (Company Management)**
-   **主要源文件 (Source Files)**: `新增公司-基本信息.html`, `新增公司-银行信息.html`, `新增公司-进出口法律文件.html`, `新增公司-完成.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图 (Main View)**: 一个公司列表，包含搜索和`新增公司`按钮。
    -   **核心交互: `新增公司` 弹窗/向导 (Add Company Modal/Wizard)**
        -   一个分步式的向导（Wizard）来创建一个新公司。
        -   **Step 1: 基本信息**: 表单包含公司全名、简称、Company LOGO上传。
        -   **Step 2: 银行账户管理**: 表单用于添加多个银行账户（银行名称、账户号码、账户名称、SWIFT代码）。
        -   **Step 3: 进出口法律文件**: 用于上传多种法律文件（营业执照、许可证等），并记录签发/到期日期。
        -   **Step 4: 完成**: 成功状态确认页。

#### **路由: 物资管理 (Materials Management)**
-   **主要源文件 (Source Files)**: `物资管理首页.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图 (Main View)**: 物资列表，包含按物资编号/HS CODE和描述的搜索功能。
    -   **操作按钮**: `根据HS CODE 查询添加`, `导出`。
    -   **数据表格 (Data Table)**:
        -   **列**: `HS CODE`, `Description`, `BM`, `PPN`, `PPH`, `进出口单位`, `贸易协定总数`, `更新日期`, `操作`。
        -   **行内操作**: `编辑`, `删除`, `复制`, `查看贸易协定列表`。
    -   **核心交互**:
        -   **新增/编辑物资弹窗**:
            -   **表单内容**: 包含物资基础信息、税率等。
            -   **贸易协定**: 点击`查看贸易协定列表`会弹出一个新窗口，显示该HS CODE下的所有贸易协定及税率。
        -   **HS CODE查询添加**: 弹出一个窗口，用户输入HS CODE，系统从外部数据源查询并带回基础信息以创建新物资。

#### **路由: 出口成品管理 (Finished Goods Mgmt)**
-   **主要源文件 (Source Files)**: `首页_6.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 一个标准的CRUD（增删改查）界面，用于管理出口的成品信息。
    -   **筛选区域**: 支持按`HS CODE`、`Description`、`成品中文名`进行搜索。
    -   **操作按钮**: `新增`, `导出`。
    -   **数据表格**:
        -   **列**: `HS CODE`, `成品中文名称`, `出口分类`, `英文名称`, `创建/更新信息`, `启用状态`, `操作`。
        -   **行内操作**: `编辑`, `查看`。
    -   **核心交互: `新增/编辑` 视图**:
        -   一个详细的表单，用于定义成品。
        -   **表单字段**: `成品中文名`, `出口分类` (一般/特殊物资), `HS CODE`, `英文名称`。
        -   **模板关联**: 核心功能。表单内有一个表格，允许用户为该成品关联不同类型的文档模板（如CI发票, PL箱单, SI, COO等）。用户可以为每个文档类型从一个下拉列表中选择一个已存在的模板。这实现了成品与具体文档模板的绑定。

#### **路由: 模版库管理 (Template Mgmt)**
-   **主要源文件 (Source Files)**: `首页_7.html`
-   **页面内容与功能 (Content and Functions)**:
    -   **主视图**: 一个用于管理文档模板的界面。
    -   **筛选区域**: 支持按`模版名称`和`模版分类` (CI发票, PL箱单等) 进行搜索。
    -   **主操作按钮**: `上传模版`。
    -   **模板展示**:
        -   以卡片/网格形式展示已上传的模板。
        -   每个卡片显示模板的预览图（如Excel图标）、模板名称、分类和更新日期。
        -   当模板库为空时，会有一个醒目的提示和“上传第一个模版”的按钮。
    -   **核心交互**:
        -   **上传**: 点击`上传模版`后，出现弹窗，用户可选择本地文件并指定模板分类。
        -   **模板操作**: 鼠标悬停在模板卡片上时，出现操作菜单，提供`下载`, `编辑模版信息` (如名称、分类), `编辑文档内容` (可能跳转到外部或在线编辑器), 和 `删除` 功能。
